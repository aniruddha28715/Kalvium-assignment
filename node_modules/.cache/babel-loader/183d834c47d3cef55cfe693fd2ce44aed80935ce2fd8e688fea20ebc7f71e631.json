{"ast":null,"code":"var _jsxFileName = \"/Users/aniruddhakulkarni/Desktop/Kalvium/pdf-co-viewer/src/components/PdfViewer.js\",\n  _s = $RefreshSig$();\n// src/components/PdfViewer.js\nimport React, { useEffect, useState } from \"react\";\nimport { Worker, Viewer } from \"@react-pdf-viewer/core\";\nimport { defaultLayoutPlugin } from \"@react-pdf-viewer/default-layout\";\nimport io from \"socket.io-client\";\nimport \"@react-pdf-viewer/core/lib/styles/index.css\";\nimport \"@react-pdf-viewer/default-layout/lib/styles/index.css\";\n\n// Connect to your backend URL\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:5001\");\nconst PdfViewer = ({\n  pdfUrl\n}) => {\n  _s();\n  const [currentPage, setCurrentPage] = useState(1);\n\n  // Initialize the defaultLayoutPlugin inside the component body\n  const defaultLayout = defaultLayoutPlugin();\n  useEffect(() => {\n    // Listen for page-change events from the server\n    socket.on(\"page-change\", newPage => {\n      setCurrentPage(newPage); // Update current page based on server event\n    });\n\n    // Clean up the event listener\n    return () => {\n      socket.off(\"page-change\");\n    };\n  }, []);\n  const handlePageChange = e => {\n    const newPage = parseInt(e.target.value, 10);\n    if (newPage >= 1) {\n      setCurrentPage(newPage); // Update the local page\n      socket.emit(\"change-page\", newPage); // Emit the event to the server\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"PDF Co-Viewer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: currentPage,\n      onChange: handlePageChange,\n      min: \"1\",\n      placeholder: \"Go to page\",\n      style: {\n        marginBottom: \"10px\",\n        padding: \"8px\",\n        width: \"100px\",\n        textAlign: \"center\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"80%\",\n        height: \"80vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Worker, {\n        workerUrl: \"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js\",\n        children: /*#__PURE__*/_jsxDEV(Viewer, {\n          fileUrl: pdfUrl,\n          plugins: [defaultLayout],\n          initialPage: currentPage - 1 // Viewer uses zero-based indexing\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n_s(PdfViewer, \"GDYsIxij9y/ZFL42bMqqthZmeP4=\");\n_c = PdfViewer;\nexport default PdfViewer;\nvar _c;\n$RefreshReg$(_c, \"PdfViewer\");","map":{"version":3,"names":["React","useEffect","useState","Worker","Viewer","defaultLayoutPlugin","io","jsxDEV","_jsxDEV","socket","PdfViewer","pdfUrl","_s","currentPage","setCurrentPage","defaultLayout","on","newPage","off","handlePageChange","e","parseInt","target","value","emit","style","display","flexDirection","alignItems","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","min","placeholder","marginBottom","padding","width","textAlign","height","workerUrl","fileUrl","plugins","initialPage","_c","$RefreshReg$"],"sources":["/Users/aniruddhakulkarni/Desktop/Kalvium/pdf-co-viewer/src/components/PdfViewer.js"],"sourcesContent":["// src/components/PdfViewer.js\nimport React, { useEffect, useState } from \"react\";\nimport { Worker, Viewer } from \"@react-pdf-viewer/core\";\nimport { defaultLayoutPlugin } from \"@react-pdf-viewer/default-layout\";\nimport io from \"socket.io-client\";\nimport \"@react-pdf-viewer/core/lib/styles/index.css\";\nimport \"@react-pdf-viewer/default-layout/lib/styles/index.css\";\n\n// Connect to your backend URL\nconst socket = io(\"http://localhost:5001\");\n\nconst PdfViewer = ({ pdfUrl }) => {\n    const [currentPage, setCurrentPage] = useState(1);\n\n    // Initialize the defaultLayoutPlugin inside the component body\n    const defaultLayout = defaultLayoutPlugin();\n\n    useEffect(() => {\n        // Listen for page-change events from the server\n        socket.on(\"page-change\", (newPage) => {\n            setCurrentPage(newPage); // Update current page based on server event\n        });\n\n        // Clean up the event listener\n        return () => {\n            socket.off(\"page-change\");\n        };\n    }, []);\n\n    const handlePageChange = (e) => {\n        const newPage = parseInt(e.target.value, 10);\n\n        if (newPage >= 1) {\n            setCurrentPage(newPage); // Update the local page\n            socket.emit(\"change-page\", newPage); // Emit the event to the server\n        }\n    };\n\n    return (\n        <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\n            <h2>PDF Co-Viewer</h2>\n            <input\n                type=\"number\"\n                value={currentPage}\n                onChange={handlePageChange}\n                min=\"1\"\n                placeholder=\"Go to page\"\n                style={{\n                    marginBottom: \"10px\",\n                    padding: \"8px\",\n                    width: \"100px\",\n                    textAlign: \"center\",\n                }}\n            />\n            <div style={{ width: \"80%\", height: \"80vh\" }}>\n                <Worker workerUrl=\"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js\">\n                    <Viewer\n                        fileUrl={pdfUrl}\n                        plugins={[defaultLayout]}\n                        initialPage={currentPage - 1} // Viewer uses zero-based indexing\n                    />\n                </Worker>\n            </div>\n        </div>\n    );\n};\n\nexport default PdfViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}