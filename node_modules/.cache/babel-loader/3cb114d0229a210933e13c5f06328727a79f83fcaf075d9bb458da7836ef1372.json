{"ast":null,"code":"var _jsxFileName = \"/Users/aniruddhakulkarni/Desktop/Kalvium/pdf-co-viewer/src/components/PdfViewer.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { Worker, Viewer } from \"@react-pdf-viewer/core\";\nimport { defaultLayoutPlugin } from \"@react-pdf-viewer/default-layout\";\nimport io from \"socket.io-client\";\nimport \"@react-pdf-viewer/core/lib/styles/index.css\";\nimport \"@react-pdf-viewer/default-layout/lib/styles/index.css\";\n\n// Connect to your backend URL\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:5001\");\nconst PdfViewer = ({\n  pdfUrl\n}) => {\n  _s();\n  const [currentPage, setCurrentPage] = useState(1);\n  const viewerRef = useRef(null); // Ref to access the Viewer instance\n  const defaultLayout = defaultLayoutPlugin();\n  useEffect(() => {\n    // Listen for page-change events from the server\n    socket.on(\"page-change\", newPage => {\n      setCurrentPage(newPage); // Update current page based on server event\n\n      // Navigate the Viewer to the new page\n      if (viewerRef.current) {\n        viewerRef.current.scrollToPage(newPage - 1); // Viewer uses zero-based indexing\n      }\n    });\n\n    // Clean up the event listener\n    return () => {\n      socket.off(\"page-change\");\n    };\n  }, []);\n  const handlePageChange = e => {\n    const newPage = parseInt(e.target.value, 10);\n    if (newPage >= 1) {\n      setCurrentPage(newPage); // Update the local page\n      socket.emit(\"change-page\", newPage); // Emit the event to the server\n\n      // Navigate the Viewer to the new page\n      if (viewerRef.current) {\n        viewerRef.current.scrollToPage(newPage - 1); // Viewer uses zero-based indexing\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"PDF Co-Viewer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: currentPage,\n      onChange: handlePageChange,\n      min: \"1\",\n      placeholder: \"Go to page\",\n      style: {\n        marginBottom: \"10px\",\n        padding: \"8px\",\n        width: \"100px\",\n        textAlign: \"center\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"80%\",\n        height: \"80vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Worker, {\n        workerUrl: \"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js\",\n        children: /*#__PURE__*/_jsxDEV(Viewer, {\n          ref: viewerRef // Attach the ref to the Viewer\n          ,\n          fileUrl: pdfUrl,\n          plugins: [defaultLayout],\n          initialPage: currentPage - 1 // Viewer uses zero-based indexing\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(PdfViewer, \"Nf2toRxPrquZZyPVDnger87WqWk=\");\n_c = PdfViewer;\nexport default PdfViewer;\nvar _c;\n$RefreshReg$(_c, \"PdfViewer\");","map":{"version":3,"names":["React","useEffect","useState","useRef","Worker","Viewer","defaultLayoutPlugin","io","jsxDEV","_jsxDEV","socket","PdfViewer","pdfUrl","_s","currentPage","setCurrentPage","viewerRef","defaultLayout","on","newPage","current","scrollToPage","off","handlePageChange","e","parseInt","target","value","emit","style","display","flexDirection","alignItems","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","min","placeholder","marginBottom","padding","width","textAlign","height","workerUrl","ref","fileUrl","plugins","initialPage","_c","$RefreshReg$"],"sources":["/Users/aniruddhakulkarni/Desktop/Kalvium/pdf-co-viewer/src/components/PdfViewer.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { Worker, Viewer } from \"@react-pdf-viewer/core\";\nimport { defaultLayoutPlugin } from \"@react-pdf-viewer/default-layout\";\nimport io from \"socket.io-client\";\nimport \"@react-pdf-viewer/core/lib/styles/index.css\";\nimport \"@react-pdf-viewer/default-layout/lib/styles/index.css\";\n\n// Connect to your backend URL\nconst socket = io(\"http://localhost:5001\");\n\nconst PdfViewer = ({ pdfUrl }) => {\n    const [currentPage, setCurrentPage] = useState(1);\n    const viewerRef = useRef(null); // Ref to access the Viewer instance\n    const defaultLayout = defaultLayoutPlugin();\n\n    useEffect(() => {\n        // Listen for page-change events from the server\n        socket.on(\"page-change\", (newPage) => {\n            setCurrentPage(newPage); // Update current page based on server event\n\n            // Navigate the Viewer to the new page\n            if (viewerRef.current) {\n                viewerRef.current.scrollToPage(newPage - 1); // Viewer uses zero-based indexing\n            }\n        });\n\n        // Clean up the event listener\n        return () => {\n            socket.off(\"page-change\");\n        };\n    }, []);\n\n    const handlePageChange = (e) => {\n        const newPage = parseInt(e.target.value, 10);\n\n        if (newPage >= 1) {\n            setCurrentPage(newPage); // Update the local page\n            socket.emit(\"change-page\", newPage); // Emit the event to the server\n\n            // Navigate the Viewer to the new page\n            if (viewerRef.current) {\n                viewerRef.current.scrollToPage(newPage - 1); // Viewer uses zero-based indexing\n            }\n        }\n    };\n\n    return (\n        <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\n            <h2>PDF Co-Viewer</h2>\n            <input\n                type=\"number\"\n                value={currentPage}\n                onChange={handlePageChange}\n                min=\"1\"\n                placeholder=\"Go to page\"\n                style={{\n                    marginBottom: \"10px\",\n                    padding: \"8px\",\n                    width: \"100px\",\n                    textAlign: \"center\",\n                }}\n            />\n            <div style={{ width: \"80%\", height: \"80vh\" }}>\n                <Worker workerUrl=\"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js\">\n                    <Viewer\n                        ref={viewerRef} // Attach the ref to the Viewer\n                        fileUrl={pdfUrl}\n                        plugins={[defaultLayout]}\n                        initialPage={currentPage - 1} // Viewer uses zero-based indexing\n                    />\n                </Worker>\n            </div>\n        </div>\n    );\n};\n\nexport default PdfViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}