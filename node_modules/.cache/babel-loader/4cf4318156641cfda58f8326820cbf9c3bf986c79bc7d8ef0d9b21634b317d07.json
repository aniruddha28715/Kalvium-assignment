{"ast":null,"code":"var _jsxFileName = \"/Users/aniruddhakulkarni/Desktop/Kalvium/pdf-co-viewer/src/components/PdfViewer.js\",\n  _s = $RefreshSig$();\n// src/components/PdfViewer.js\nimport React, { useEffect, useState } from \"react\";\nimport { Worker, Viewer } from \"@react-pdf-viewer/core\";\nimport { defaultLayoutPlugin } from \"@react-pdf-viewer/default-layout\";\nimport io from \"socket.io-client\";\nimport \"@react-pdf-viewer/core/lib/styles/index.css\";\nimport \"@react-pdf-viewer/default-layout/lib/styles/index.css\";\n\n// Connect to your backend URL\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:5001\");\nconst PdfViewer = ({\n  pdfUrl\n}) => {\n  _s();\n  const [currentPage, setCurrentPage] = useState(1);\n\n  // Initialize the defaultLayoutPlugin inside the component body\n  const defaultLayout = defaultLayoutPlugin();\n  useEffect(() => {\n    socket.on(\"connect\", () => {\n      console.log(\"Connected to WebSocket server:\", socket.id);\n    });\n    socket.on(\"disconnect\", () => {\n      console.log(\"Disconnected from WebSocket server\");\n    });\n    return () => {\n      socket.off(\"connect\");\n      socket.off(\"disconnect\");\n    };\n  }, []);\n  const handlePageChange = e => {\n    const newPage = parseInt(e.target.value, 10);\n    if (newPage >= 1) {\n      setCurrentPage(newPage);\n      console.log(\"Emitting page change event to server:\", newPage);\n      socket.emit(\"change-page\", newPage);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"PDF Co-Viewer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: currentPage,\n      onChange: handlePageChange,\n      min: \"1\",\n      placeholder: \"Go to page\",\n      style: {\n        marginBottom: \"10px\",\n        padding: \"8px\",\n        width: \"100px\",\n        textAlign: \"center\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"80%\",\n        height: \"80vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Worker, {\n        workerUrl: \"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js\",\n        children: /*#__PURE__*/_jsxDEV(Viewer, {\n          fileUrl: pdfUrl,\n          plugins: [defaultLayout],\n          initialPage: currentPage - 1 // Viewer uses zero-based indexing\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n_s(PdfViewer, \"GDYsIxij9y/ZFL42bMqqthZmeP4=\");\n_c = PdfViewer;\nexport default PdfViewer;\nvar _c;\n$RefreshReg$(_c, \"PdfViewer\");","map":{"version":3,"names":["React","useEffect","useState","Worker","Viewer","defaultLayoutPlugin","io","jsxDEV","_jsxDEV","socket","PdfViewer","pdfUrl","_s","currentPage","setCurrentPage","defaultLayout","on","console","log","id","off","handlePageChange","e","newPage","parseInt","target","value","emit","style","display","flexDirection","alignItems","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","min","placeholder","marginBottom","padding","width","textAlign","height","workerUrl","fileUrl","plugins","initialPage","_c","$RefreshReg$"],"sources":["/Users/aniruddhakulkarni/Desktop/Kalvium/pdf-co-viewer/src/components/PdfViewer.js"],"sourcesContent":["// src/components/PdfViewer.js\nimport React, { useEffect, useState } from \"react\";\nimport { Worker, Viewer } from \"@react-pdf-viewer/core\";\nimport { defaultLayoutPlugin } from \"@react-pdf-viewer/default-layout\";\nimport io from \"socket.io-client\";\nimport \"@react-pdf-viewer/core/lib/styles/index.css\";\nimport \"@react-pdf-viewer/default-layout/lib/styles/index.css\";\n\n// Connect to your backend URL\nconst socket = io(\"http://localhost:5001\");\n\nconst PdfViewer = ({ pdfUrl }) => {\n    const [currentPage, setCurrentPage] = useState(1);\n\n    // Initialize the defaultLayoutPlugin inside the component body\n    const defaultLayout = defaultLayoutPlugin();\n\n    useEffect(() => {\n    socket.on(\"connect\", () => {\n        console.log(\"Connected to WebSocket server:\", socket.id);\n    });\n\n    socket.on(\"disconnect\", () => {\n        console.log(\"Disconnected from WebSocket server\");\n    });\n\n    return () => {\n        socket.off(\"connect\");\n        socket.off(\"disconnect\");\n    };\n}, []);\n\n    \n    const handlePageChange = (e) => {\n        const newPage = parseInt(e.target.value, 10);\n    \n        if (newPage >= 1) {\n            setCurrentPage(newPage);\n            console.log(\"Emitting page change event to server:\", newPage);\n            socket.emit(\"change-page\", newPage);\n        }\n    };\n\n    return (\n        <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\n            <h2>PDF Co-Viewer</h2>\n            <input\n                type=\"number\"\n                value={currentPage}\n                onChange={handlePageChange}\n                min=\"1\"\n                placeholder=\"Go to page\"\n                style={{\n                    marginBottom: \"10px\",\n                    padding: \"8px\",\n                    width: \"100px\",\n                    textAlign: \"center\",\n                }}\n            />\n            <div style={{ width: \"80%\", height: \"80vh\" }}>\n                <Worker workerUrl=\"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js\">\n                    <Viewer\n                        fileUrl={pdfUrl}\n                        plugins={[defaultLayout]}\n                        initialPage={currentPage - 1} // Viewer uses zero-based indexing\n                    />\n                </Worker>\n            </div>\n        </div>\n    );\n};\n\nexport default PdfViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}